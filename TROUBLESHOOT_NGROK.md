# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã: ngrok –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –æ—Ç backend

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

ngrok –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "Waiting to receive a response from your server"

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ ngrok –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≤–∞—à–µ–º—É backend.

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: Backend –∑–∞–ø—É—â–µ–Ω?

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—â–µ–Ω:
```
https://localhost:8443/health
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: `{"status": "healthy"}`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç –≤ ngrok

ngrok –¥–æ–ª–∂–µ–Ω —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ **HTTP**, –∞ –Ω–µ HTTPS –¥–ª—è localhost:

```bash
# –ü–†–ê–í–ò–õ–¨–ù–û:
ngrok http 8443

# –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–µ—Å–ª–∏ backend –Ω–∞ HTTPS):
ngrok https 8443
```

–ù–æ –µ—Å–ª–∏ –≤–∞—à backend —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ HTTPS (localhost:8443), –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å ngrok –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

### –†–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ ngrok –¥–ª—è HTTPS backend

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑–º–µ–Ω–∏—Ç–µ backend –Ω–∞ HTTP (–ø—Ä–æ—â–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ HTTPS:
```bash
cd backend
python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

–ò ngrok:
```bash
ngrok http 8000
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok —Å HTTPS backend**

ngrok –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç—É–Ω–Ω–µ–ª–∏—Ä—É–µ—Ç –Ω–∞ HTTP. –î–ª—è HTTPS backend –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å—Ö–µ–º—É:

```bash
ngrok http https://localhost:8443 --host-header=rewrite
```

–ò–ª–∏ –ø—Ä–æ—â–µ - –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å SSL –æ—à–∏–±–∫–∏:
```bash
ngrok http 8443 --scheme=https
```

–ù–æ –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP backend —Å ngrok, –∞ HTTPS –¥–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
- **Backend –Ω–∞ HTTP** (–ø–æ—Ä—Ç 8000) –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ ngrok
- **ngrok —Ç—É–Ω–Ω–µ–ª–∏—Ä—É–µ—Ç HTTP** –Ω–∞ —ç—Ç–æ—Ç –ø–æ—Ä—Ç
- Telegram Mini App –ø–æ–ª—É—á–∏—Ç HTTPS –æ—Ç ngrok –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Backend (HTTP –¥–ª—è ngrok):**
```bash
cd backend
python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - ngrok:**
```bash
ngrok http 8000
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 3 - Frontend:**
```bash
cd frontend
npm run dev
```

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: ngrok —Å HTTPS backend

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS backend, –∑–∞–ø—É—Å—Ç–∏—Ç–µ ngrok —Ç–∞–∫:

```bash
ngrok http https://localhost:8443 --host-header=localhost:8443
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ tcp —Ç—É–Ω–Ω–µ–ª—å:
```bash
ngrok tcp 8443
```

–ù–æ –ø—Ä–æ—â–µ –≤—Å–µ–≥–æ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP backend —Å ngrok.

