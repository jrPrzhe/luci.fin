# –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—Å–∫–∞ –¥–ª—è Telegram Mini App

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- ‚úÖ ngrok —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ authtoken –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- üîÑ –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç—É–Ω–Ω–µ–ª—å

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Backend –Ω–∞ HTTPS

**–¢–µ—Ä–º–∏–Ω–∞–ª 1:**
```powershell
cd backend
python run_https.py
```

–î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è:
```
INFO:     Uvicorn running on https://0.0.0.0:8443
```

**–í–∞–∂–Ω–æ:** Backend –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ **https://localhost:8443**

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok —Ç—É–Ω–Ω–µ–ª—å

**–¢–µ—Ä–º–∏–Ω–∞–ª 2:**
```powershell
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞:
.\ngrok.exe http 8443
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```powershell
.\start-ngrok.bat
```

–í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```
Forwarding    https://xxxx-xx-xxx-xxx-xx.ngrok-free.app -> http://localhost:8443
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL!** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://xxxx-xx-xxx-xxx-xx.ngrok-free.app`)

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Frontend

**–¢–µ—Ä–º–∏–Ω–∞–ª 3:**
```powershell
cd frontend
npm run dev
```

Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞: http://localhost:5173

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Telegram Mini App

1. **–û—Ç–∫—Ä–æ–π—Ç–µ @BotFather –≤ Telegram**

2. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:**
   ```
   /mybots
   ```

3. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞**

4. **–í—ã–±–µ—Ä–∏—Ç–µ "Bot Settings"** ‚Üí **"Menu Button"**

5. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ URL:**
   - –í–≤–µ–¥–∏—Ç–µ URL –≤–∞—à–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —á–µ—Ä–µ–∑ ngrok
   - –ù–∞–ø—Ä–∏–º–µ—Ä: `https://xxxx-xx-xxx-xxx-xx.ngrok-free.app`
   
   –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é Mini App:
   ```
   /newapp
   ```

6. **–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º BotFather**

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é (–æ–±—ã—á–Ω–æ –≤–Ω–∏–∑—É)
3. –î–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!

## üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Backend (HTTPS):**
```powershell
cd backend
python run_https.py
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - ngrok:**
```powershell
.\ngrok.exe http 8443
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 3 - Frontend:**
```powershell
cd frontend
npm run dev
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 4 - Telegram Bot (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```powershell
cd telegram-bot
python bot.py
```

## üîó –í–∞–∂–Ω—ã–µ URL

- **Backend (HTTPS)**: https://localhost:8443
- **Backend API Docs**: https://localhost:8443/docs
- **ngrok Tunnel**: https://xxxx-xx-xxx-xxx-xx.ngrok-free.app (–∏–∑ –≤—ã–≤–æ–¥–∞ ngrok)
- **Frontend**: http://localhost:5173
- **ngrok Web UI**: http://127.0.0.1:4040 (–¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞–ø—Ä–æ—Å–æ–≤)

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ù–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã** - backend –∏ ngrok –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ
2. **URL –º–µ–Ω—è–µ—Ç—Å—è** - –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ ngrok URL –∏–∑–º–µ–Ω–∏—Ç—Å—è (–Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ)
3. **–û–±–Ω–æ–≤–∏—Ç–µ URL –≤ @BotFather** - –µ—Å–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª–∏ ngrok, –æ–±–Ω–æ–≤–∏—Ç–µ URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ HTTPS

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —Å—É—â–µ—Å—Ç–≤—É—é—Ç:
```powershell
cd backend
dir localhost.crt
dir localhost.key
```

–ï—Å–ª–∏ –∏—Ö –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ:
```powershell
python convert_pfx_to_crt.py localhost.pfx finance123
```

### ngrok –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8443
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ authtoken: `.\ngrok.exe config check`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 8443 –Ω–µ –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º

### Mini App –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ Telegram

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `https://`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ ngrok (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ ngrok: http://127.0.0.1:4040)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ backend

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤–∞—à–µ Mini App –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –≤ Telegram!

