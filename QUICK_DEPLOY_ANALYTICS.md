# üöÄ –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ

- ‚úÖ –ú–æ–¥–µ–ª—å `AnalyticsEvent` —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ API endpoints –≥–æ—Ç–æ–≤—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ VK –±–æ—Ç –∏ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞: `9c8be056d531_add_analytics_events_table.py`

## üìã –®–∞–≥–∏ –¥–ª—è –¥–µ–ø–ª–æ—è

### 1. –ó–∞–∫–æ–º–º–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

```bash
git add .
git commit -m "Add analytics system with migration"
git push
```

### 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ –ø—Ä–æ–¥–µ

#### –ß–µ—Ä–µ–∑ Railway CLI:

```bash
railway login
railway link
railway run python backend/run_migrations.py

# –ò–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
railway run --directory backend alembic upgrade head
railway run alembic -c backend/alembic.ini upgrade head
```

#### –ò–ª–∏ —á–µ—Ä–µ–∑ Railway Dashboard:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Backend Service ‚Üí Deployments ‚Üí Shell
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   cd backend
   alembic upgrade head
   ```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

```bash
railway run python -c "
from app.core.database import engine
from sqlalchemy import inspect
inspector = inspect(engine)
if 'analytics_events' in inspector.get_table_names():
    print('‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞!')
else:
    print('‚ùå –¢–∞–±–ª–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!')
"
```

## üéØ –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ:
- ‚úÖ –°–æ–±—ã—Ç–∏—è –∏–∑ VK –±–æ—Ç–∞
- ‚úÖ –°–æ–±—ã—Ç–∏—è –∏–∑ VK –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –í—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ **"–ê–Ω–∞–ª–∏—Ç–∏–∫–∞"** –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤.

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –ú–∏–≥—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–∞ (—Å–æ–∑–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É)
- –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ
- –ú–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å: `alembic downgrade -1`

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
2. –û—Ç–∫—Ä–æ–π—Ç–µ `/analytics`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

---

**–ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!** üéâ

