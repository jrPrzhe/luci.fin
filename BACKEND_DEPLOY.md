# –î–µ–ø–ª–æ–π Backend –Ω–∞ Railway/Render

## üéØ –í–∞–∂–Ω–æ

**Vercel –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è Python FastAPI backend!** 

Vercel –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è:
- ‚úÖ Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (React, Next.js, Vue)
- ‚úÖ Serverless —Ñ—É–Ω–∫—Ü–∏–π (Node.js, Python, Go)
- ‚ùå –ù–ï –¥–ª—è –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏—Ö Python –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

## üìã –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–ø–ª–æ—è Backend

### –í–∞—Ä–∏–∞–Ω—Ç 1: Railway (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê

**Railway** - –∏–¥–µ–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π –∏–∑ GitHub
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π HTTPS
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –î–µ–ø–ª–æ–π –Ω–∞ Railway:

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ Railway**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
   - –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub

2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç**
   - –ù–∞–∂–º–∏—Ç–µ **New Project**
   - –í—ã–±–µ—Ä–∏—Ç–µ **Deploy from GitHub repo**
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `luci.fin`
   - **–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, Railway –º–æ–∂–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ–ø—Ü–∏—é **Root Directory** –∏–ª–∏ **Configure Root Directory**, –≤—ã–±–µ—Ä–∏—Ç–µ `backend`
   - –ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ –æ–ø—Ü–∏—é Root Directory —Å—Ä–∞–∑—É, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ - –Ω–∞—Å—Ç—Ä–æ–∏–º –ø–æ–∑–∂–µ

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Root Directory (–µ—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏)**
   
   **–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–∫—É Source**
   - –í –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ Railway –æ—Ç–∫—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–∏—Å `luci.fin`
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Settings** (–ù–∞—Å—Ç—Ä–æ–π–∫–∏)
   - –í –ø—Ä–∞–≤–æ–º –º–µ–Ω—é **Quick Links** –Ω–∞–π–¥–∏—Ç–µ –∏ –Ω–∞–∂–º–∏—Ç–µ **Source**
   - –í —Ä–∞–∑–¥–µ–ª–µ **Source** –Ω–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ **Root Directory**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ: `backend`
   - –ù–∞–∂–º–∏—Ç–µ **Save** –∏–ª–∏ **Apply changes**
   
   **–°–ø–æ—Å–æ–± 2: –ï—Å–ª–∏ Root Directory –Ω–µ –≤–∏–¥–Ω–æ –≤ Source**
   - –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–µ—Ä–≤–∏—Å–∞ (Settings) –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **Build**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Builder
   - Root Directory –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–ª–∏ –µ–≥–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–µ–ø–ª–æ–µ
   - –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç —É–∂–µ —Å–æ–∑–¥–∞–Ω, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–∏—Å –∏ —Å–æ–∑–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ, –≤—ã–±—Ä–∞–≤ Root Directory –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–µ–ø–ª–æ–π**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç Python –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ `runtime.txt` –∏ `Procfile`
   - –í —Ä–∞–∑–¥–µ–ª–µ **Build** —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Builder —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–∞–∫ **Railpack Default** (–∏–ª–∏ Nixpacks)
   - **Build Command**: –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º (Railway –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
   - **Start Command**: –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º (Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Procfile`)

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   
   –í —Ä–∞–∑–¥–µ–ª–µ **Variables** –¥–æ–±–∞–≤—å—Ç–µ:
   ```
   SECRET_KEY=your-secret-key-here (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–π –∫–ª—é—á)
   ALGORITHM=HS256
   ACCESS_TOKEN_EXPIRE_MINUTES=30
   REFRESH_TOKEN_EXPIRE_DAYS=7
   CORS_ORIGINS=https://your-frontend.vercel.app
   ```
   
   **‚ö†Ô∏è –í–ê–ñ–ù–û:** `DATABASE_URL` –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—à–∞–≥ 5)
   
   **–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SECRET_KEY:**
   ```bash
   python -c "import secrets; print(secrets.token_urlsafe(32))"
   ```

5. **–î–æ–±–∞–≤—å—Ç–µ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û**
   
   **–≠—Ç–æ—Ç —à–∞–≥ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!** –ë–µ–∑ –Ω–µ–≥–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –æ—à–∏–±–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
   
   - –í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞–∂–º–∏—Ç–µ **+ New** –∏–ª–∏ **New Service**
   - –í—ã–±–µ—Ä–∏—Ç–µ **Database** ‚Üí **PostgreSQL**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
   
   **–°–≤—è–∑—ã–≤–∞–Ω–∏–µ PostgreSQL —Å Backend —Å–µ—Ä–≤–∏—Å–æ–º:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à **Backend —Å–µ—Ä–≤–∏—Å** (–Ω–µ PostgreSQL)
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Variables** (–∏–ª–∏ **Settings** ‚Üí **Variables**)
   - –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL` ‚Äî –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ Railway
   - –ï—Å–ª–∏ –µ—ë –Ω–µ—Ç:
     1. –û—Ç–∫—Ä–æ–π—Ç–µ PostgreSQL —Å–µ—Ä–≤–∏—Å
     2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Variables** ‚Üí **Connect**
     3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `DATABASE_URL`
     4. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Backend —Å–µ—Ä–≤–∏—Å ‚Üí **Variables**
     5. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
        - **Name**: `DATABASE_URL`
        - **Value**: –≤—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
   
   **–§–æ—Ä–º–∞—Ç DATABASE_URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:**
   ```
   postgresql://postgres:password@containers-us-west-xxx.railway.app:5432/railway
   ```
   
   **–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
   - ‚ùå `localhost` –∏–ª–∏ `127.0.0.1`
   - ‚ùå `sqlite://`
   
   üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. `RAILWAY_DATABASE_FIX.md` –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

6. **–î–µ–ø–ª–æ–π**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏ push –≤ main –≤–µ—Ç–∫—É
   - –ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ **Deploy** –≤—Ä—É—á–Ω—É—é

7. **–ü–æ–ª—É—á–∏—Ç–µ URL**
   - –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è Railway –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç URL —Ç–∏–ø–∞: `https://your-app.railway.app`
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç URL –∫–∞–∫ `VITE_API_URL` –≤ Vercel

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: Render

**Render** - —Ö–æ—Ä–æ—à–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Railway:

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ Render**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [render.com](https://render.com)
   - –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub

2. **–°–æ–∑–¥–∞–π—Ç–µ Web Service**
   - –ù–∞–∂–º–∏—Ç–µ **New +** ‚Üí **Web Service**
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `luci.fin`
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
     - **Name**: `luci-fin-backend`
     - **Root Directory**: `backend`
     - **Environment**: `Python 3`
     - **Build Command**: `pip install -r requirements.txt`
     - **Start Command**: `uvicorn app.main:app --host 0.0.0.0 --port $PORT`

3. **–î–æ–±–∞–≤—å—Ç–µ PostgreSQL**
   - –ù–∞–∂–º–∏—Ç–µ **New +** ‚Üí **PostgreSQL**
   - Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   - –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Web Service ‚Üí **Environment**
   - –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Å–º. Railway –≤—ã—à–µ)
   - `DATABASE_URL` –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω Render

5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ CORS**
   - –í –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤—å—Ç–µ:
   ```
   CORS_ORIGINS=https://your-frontend.vercel.app
   ```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend –¥–ª—è Production

### 1. –û–±–Ω–æ–≤–∏—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–í `backend/app/core/config.py` —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```python
CORS_ORIGINS = [
    "https://your-frontend.vercel.app",
    "https://your-custom-domain.com",
]
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.example` –≤ `backend/` (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç):

```env
# Database
DATABASE_URL=postgresql://user:password@localhost/dbname

# Security
SECRET_KEY=your-secret-key-here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS
CORS_ORIGINS=https://your-frontend.vercel.app

# Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
REDIS_URL=redis://localhost:6379/0

# Telegram Bot (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TELEGRAM_BOT_TOKEN=your-bot-token
```

### 3. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ù–∞ Railway —á–µ—Ä–µ–∑ CLI
railway run alembic upgrade head

# –ò–ª–∏ —á–µ—Ä–µ–∑ SSH –Ω–∞ Render
alembic upgrade head
```

–ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –≤ `main.py` (—É–∂–µ –µ—Å—Ç—å –≤ –∫–æ–¥–µ).

---

## üîó –°–≤—è–∑—ã–≤–∞–Ω–∏–µ Frontend –∏ Backend

### 1. –î–µ–ø–ª–æ–π Frontend –Ω–∞ Vercel

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ `VERCEL_DEPLOY.md`

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Vercel

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ Vercel ‚Üí **Environment Variables**:

```
VITE_API_URL=https://your-backend.railway.app
```

–ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Render:

```
VITE_API_URL=https://your-backend.onrender.com
```

### 3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ Frontend

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –ø—Ä–æ–µ–∫—Ç
- –ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ **Redeploy** –≤—Ä—É—á–Ω—É—é

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–í–∞—à –ø—Ä–æ–µ–∫—Ç —É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è –¥–µ–ø–ª–æ—è:

```
luci.fin/
‚îú‚îÄ‚îÄ backend/              # Python FastAPI - –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ Railway/Render
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ frontend/             # React + Vite - –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ Vercel
    ‚îú‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ package.json
    ‚îî‚îÄ‚îÄ vercel.json
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –î–µ–ø–ª–æ–π Backend (Railway)

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
2. New Project ‚Üí Deploy from GitHub
3. –í—ã–±–µ—Ä–∏—Ç–µ `luci.fin` ‚Üí Root Directory: `backend`
4. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL database
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
6. –ü–æ–ª—É—á–∏—Ç–µ URL backend

### 2. –î–µ–ø–ª–æ–π Frontend (Vercel)

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [vercel.com](https://vercel.com)
2. Import Project ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ `luci.fin`
3. Root Directory: `frontend`
4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é: `VITE_API_URL=https://your-backend.railway.app`
5. Deploy

### 3. –ì–æ—Ç–æ–≤–æ! üéâ

- Frontend: `https://your-app.vercel.app`
- Backend: `https://your-backend.railway.app`
- API Docs: `https://your-backend.railway.app/docs`

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "Error creating build plan with Railpack"

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–µ–∫—Ç —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `runtime.txt` - –≤–µ—Ä—Å–∏—è Python
- ‚úÖ `Procfile` - –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞
- ‚úÖ `railway.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway

**–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤—Å–µ –µ—â–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Root Directory:**
   - –í Settings ‚Üí Quick Links ‚Üí **Source**
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ **Root Directory** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `backend`
   - –ï—Å–ª–∏ –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `backend` –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª—ã `runtime.txt`, `Procfile` –∏ `railway.json` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `backend/` –≤ GitHub
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –∑–∞–ø—É—à–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

3. **–ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å (–µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç):**
   - –£–¥–∞–ª–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–∏—Å –≤ Railway
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —á–µ—Ä–µ–∑ **New ‚Üí GitHub Repo**
   - –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∂–∏—Ç–µ **Root Directory: `backend`**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø—Ä–æ–µ–∫—Ç –∫–∞–∫ Python

4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Dockerfile –≤–º–µ—Å—Ç–æ Nixpacks:**
   - –í Settings ‚Üí Build ‚Üí Builder
   - –ò–∑–º–µ–Ω–∏—Ç–µ —Å **"Railpack Default"** –Ω–∞ **"Dockerfile"**
   - Railway –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `backend/Dockerfile` –¥–ª—è —Å–±–æ—Ä–∫–∏
   - –≠—Ç–æ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, —Ç—Ä–µ–±—É—é—â–∏–º–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

5. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π:**
   - –í Settings –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Deploy** (–∏–ª–∏ **Redeploy**)
   - –ò–ª–∏ Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –û—à–∏–±–∫–∞ "Failed to build an image"

**–ü—Ä–∏—á–∏–Ω–∞:** Railway –Ω–µ –º–æ–∂–µ—Ç —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑—É—è Nixpacks.

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Dockerfile:**
   - Settings ‚Üí Build ‚Üí Builder
   - –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ **"Dockerfile"**
   - Railway –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `backend/Dockerfile`

2. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Root Directory —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
   - Settings ‚Üí Source ‚Üí Root Directory: `backend`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - Deployments ‚Üí View Logs
   - –ù–∞–π–¥–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –æ—à–∏–±–∫—É —Å–±–æ—Ä–∫–∏

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway (Railway ‚Üí Deployments ‚Üí View Logs)
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `DATABASE_URL` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è PostgreSQL)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `requirements.txt`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `PORT` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (Railway —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è: `uvicorn app.main:app --host 0.0.0.0 --port $PORT`

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: "connection to server at localhost failed"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) 
connection to server at "localhost" (::1), port 5432 failed: Connection refused
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL –Ω–∞ `localhost:5432`, –Ω–æ –Ω–∞ Railway –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `DATABASE_URL` –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:**
1. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ PostgreSQL —Å–µ—Ä–≤–∏—Å (—Å–º. —à–∞–≥ 5 –≤—ã—à–µ)
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `DATABASE_URL` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Variables –≤–∞—à–µ–≥–æ Backend —Å–µ—Ä–≤–∏—Å–∞
3. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `DATABASE_URL` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL (–Ω–µ `localhost`)
4. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. `RAILWAY_DATABASE_FIX.md` –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã

### CORS –æ—à–∏–±–∫–∏ (400 Bad Request –¥–ª—è OPTIONS –∑–∞–ø—Ä–æ—Å–æ–≤)

**–°–∏–º–ø—Ç–æ–º—ã:**
```
INFO: 100.64.0.2:59020 - "OPTIONS /api/v1/auth/telegram HTTP/1.1" 400 Bad Request
```

**–ü—Ä–∏—á–∏–Ω–∞:** OPTIONS –∑–∞–ø—Ä–æ—Å—ã (preflight) –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ origin —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω –≤ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.

**–†–µ—à–µ–Ω–∏–µ:**
1. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ `CORS_ORIGINS` —É–∫–∞–∑–∞–Ω URL –≤–∞—à–µ–≥–æ frontend
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `CORS_ORIGINS` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ backend
3. ‚úÖ –§–æ—Ä–º–∞—Ç: `CORS_ORIGINS=https://your-frontend.vercel.app` (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
4. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. `RAILWAY_CORS_FIX.md` –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã CORS

### Frontend –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Backend

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `VITE_API_URL` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ Vercel
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –¥–æ—Å—Ç—É–ø–µ–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://your-backend.railway.app/docs`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ backend
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –≤ Railway)

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

### Railway
- **Free tier**: $5 –∫—Ä–µ–¥–∏—Ç–æ–≤ –≤ –º–µ—Å—è—Ü (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –Ω–µ–±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞)
- –ü–ª–∞—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã –æ—Ç $5/–º–µ—Å—è—Ü

### Render
- **Free tier**: –î–æ—Å—Ç—É–ø–µ–Ω (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏)
- –ü–ª–∞—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã –æ—Ç $7/–º–µ—Å—è—Ü

### Vercel
- **Free tier**: –û—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è frontend
- –ü–ª–∞—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã –æ—Ç $20/–º–µ—Å—è—Ü

---

## ü§ñ –î–µ–ø–ª–æ–π Telegram –±–æ—Ç–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è Backend –∏ Frontend, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å Telegram –±–æ—Ç–∞:

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. `TELEGRAM_BOT_DEPLOY.md`

**–ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:**
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –Ω–∞ Railway
2. Root Directory: `telegram-bot`
3. Builder: Dockerfile
4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   - `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –æ—Ç @BotFather
   - `BACKEND_URL` - URL –≤–∞—à–µ–≥–æ backend (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://your-backend.railway.app`)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Railway Documentation](https://docs.railway.app)
- [Render Documentation](https://render.com/docs)
- [Vercel Documentation](https://vercel.com/docs)
- [Telegram Bot API](https://core.telegram.org/bots/api)


